<div class="card card-flus mb-6 col-sm-12">
  <div class="card-header align-items-center border-0">
    <h3 class="card-title align-items-start flex-column">
      <span class="font-weight-bolder text-dark">Recent Activity</span>
    </h3>
  </div>
  <div class="card-body pt-0 overflow-auto pos-relative min-height-200">
    
       <app-spinner *ngIf="showLoading== true"></app-spinner>

       <div *ngIf="allData.length == 0 && showLoading == false">
                   <div class="d-flex flex-column flex-grow-1">
                              <span class="text-muted font-weight-bold">No Activity Found</span>
                            </div>
                      </div>


    <div class="" id="kt_contact_view_activity mb-2" role="tabpanel" *ngIf="allData.length > 0">
      <div *ngFor="let item of allData; index as i">
        <div class="text-left fw-bolder text-black-12000 mb-6" [ngClass]="{'mt-6': i != 0}">
          <span>{{item.date}}</span>
        </div>
        <div class="timeline-label">
          <div class="timeline-item" *ngFor="let activity of item.activities; index as j">
            <div class="timeline-label fw-bolder text-gray-800 fs-6">{{returnOnlytime(activity)}}</div>
            <div class="timeline-badge">
              <i class="fa fa-genderless {{activity.itemClass}} fs-1"></i>
            </div>
            <div *ngIf="activity.meta" class="fw-mormal timeline-content text-gray-800 ps-3" [innerHtml]="activity.meta.message_en"></div>
            <div *ngIf="!activity.meta" class="fw-mormal timeline-content text-gray-800 ps-3">'No Message'</div>
          </div>
        
        </div>
      </div>

<div *ngIf="totalCount > 10 && totalCount!=activities.length && showViewAllOption == false" width="100%" class="text-center mt-3 mb-3">
<button  (click)="loadMore()" type="button " class="btn fs-btn btn-sm " data-kt-stepper-action="next">
            Load More 
<span *ngIf="inProgress==true" class="load-more-btn svg-icon svg-icon-muted svg-icon-2hx"><svg width="5" height="5" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="10" y="10" width="4" height="4" rx="2" fill="currentColor"/>
<rect x="17" y="10" width="4" height="4" rx="2" fill="currentColor"/>
<rect x="3" y="10" width="4" height="4" rx="2" fill="currentColor"/>
</svg>
</span>
          </button>

</div>

    </div>




  </div>



  <div *ngIf="showViewAllOption && allData.length > 0" class="d-flex flex-stack mt-auto bd-highlight j-c-r pd-10">
    <a (click)="showAllActivity()" href="javascript:void(0)" class="text-primary opacity-75-hover fs-6 fw-semibold">View All
       
        <span class="svg-icon svg-icon-4 svg-icon-gray-800 ms-1">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path opacity="0.3" d="M4.7 17.3V7.7C4.7 6.59543 5.59543 5.7 6.7 5.7H9.8C10.2694 5.7 10.65 5.31944 10.65 4.85C10.65 4.38056 10.2694 4 9.8 4H5C3.89543 4 3 4.89543 3 6V19C3 20.1046 3.89543 21 5 21H18C19.1046 21 20 20.1046 20 19V14.2C20 13.7306 19.6194 13.35 19.15 13.35C18.6806 13.35 18.3 13.7306 18.3 14.2V17.3C18.3 18.4046 17.4046 19.3 16.3 19.3H6.7C5.59543 19.3 4.7 18.4046 4.7 17.3Z" fill="currentColor"></path>
                <rect x="21.9497" y="3.46448" width="13" height="2" rx="1" transform="rotate(135 21.9497 3.46448)" fill="currentColor"></rect>
                <path d="M19.8284 4.97161L19.8284 9.93937C19.8284 10.5252 20.3033 11 20.8891 11C21.4749 11 21.9497 10.5252 21.9497 9.93937L21.9497 3.05029C21.9497 2.498 21.502 2.05028 20.9497 2.05028L14.0607 2.05027C13.4749 2.05027 13 2.52514 13 3.11094C13 3.69673 13.4749 4.17161 14.0607 4.17161L19.0284 4.17161C19.4702 4.17161 19.8284 4.52978 19.8284 4.97161Z" fill="currentColor"></path>
            </svg>
        </span>
    </a>
</div>
</div>
